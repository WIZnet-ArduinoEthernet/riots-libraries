<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Riots libraries: Riots_MamaRadio Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="riots_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Riots libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classRiots__MamaRadio-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Riots_MamaRadio Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf60a7347ad8bfe0096afa3c8fd1d877"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#aaf60a7347ad8bfe0096afa3c8fd1d877">setup</a> (byte indicativeLedsOn=0, byte debug=0, int nrfce=0xFF, int nrfcsn=0xFF, int nrfirq=0xFF, int nrfrst=0xFF)</td></tr>
<tr class="separator:aaf60a7347ad8bfe0096afa3c8fd1d877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4e717d7ebb34880579b4cb5e4168e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#afa4e717d7ebb34880579b4cb5e4168e0">setRadioReceiverAddress</a> (byte *new_address)</td></tr>
<tr class="separator:afa4e717d7ebb34880579b4cb5e4168e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a889f4f9788b5a6c953cd5bc5eb95a"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a49a889f4f9788b5a6c953cd5bc5eb95a">getPlainDataAddress</a> ()</td></tr>
<tr class="separator:a49a889f4f9788b5a6c953cd5bc5eb95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac886c97c3ecea6257c16663a3b8272da"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#ac886c97c3ecea6257c16663a3b8272da">getTXCryptBuffAddress</a> ()</td></tr>
<tr class="separator:ac886c97c3ecea6257c16663a3b8272da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4e922fb9c468200707d91226091a86"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a7f4e922fb9c468200707d91226091a86">getRXCryptBuffAddress</a> ()</td></tr>
<tr class="separator:a7f4e922fb9c468200707d91226091a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec2153c260b2d2896007ecf68127330"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a0ec2153c260b2d2896007ecf68127330">getPrivateKeyAddress</a> ()</td></tr>
<tr class="separator:a0ec2153c260b2d2896007ecf68127330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fdcd19f87e987d70e931bf144c7787"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#aa9fdcd19f87e987d70e931bf144c7787">update</a> (byte sleep=0)</td></tr>
<tr class="separator:aa9fdcd19f87e987d70e931bf144c7787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a923831bfee0887a7147969c103ccc"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a83a923831bfee0887a7147969c103ccc">checkRiotsMsgValidity</a> ()</td></tr>
<tr class="separator:a83a923831bfee0887a7147969c103ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7786a204690d45863f478c4ff6f17f1f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a7786a204690d45863f478c4ff6f17f1f">messageDelivered</a> (byte status)</td></tr>
<tr class="separator:a7786a204690d45863f478c4ff6f17f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b318474cf60ca9360a304be44fe677f"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a8b318474cf60ca9360a304be44fe677f">processMsg</a> (bool *reply_needed)</td></tr>
<tr class="separator:a8b318474cf60ca9360a304be44fe677f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c56622b1ce95cf691f1171c6f4e6d38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a4c56622b1ce95cf691f1171c6f4e6d38">createCoreNotReachedMsg</a> ()</td></tr>
<tr class="separator:a4c56622b1ce95cf691f1171c6f4e6d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac7d7ab507d7484e5b571a9debca4464f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#ac7d7ab507d7484e5b571a9debca4464f">createResponse</a> (byte answer_type, byte message_type=0, byte status=0)</td></tr>
<tr class="separator:ac7d7ab507d7484e5b571a9debca4464f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1faa2f56a3be7a8525c7a184c297c242"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a1faa2f56a3be7a8525c7a184c297c242">checkCounter</a> ()</td></tr>
<tr class="separator:a1faa2f56a3be7a8525c7a184c297c242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa6fa2676c30cb5f3aaa68f17160be15"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa6fa2676c30cb5f3aaa68f17160be15"></a>
byte&#160;</td><td class="memItemRight" valign="bottom"><b>getSavedMessageCount</b> ()</td></tr>
<tr class="separator:aaa6fa2676c30cb5f3aaa68f17160be15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d21e3a6bfd47c781a4b40e68014ac75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d21e3a6bfd47c781a4b40e68014ac75"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>readNextSavedMessage</b> ()</td></tr>
<tr class="separator:a6d21e3a6bfd47c781a4b40e68014ac75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ffd1c0a89318a6894df0069d87e5c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39ffd1c0a89318a6894df0069d87e5c1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>wdtSleep</b> ()</td></tr>
<tr class="separator:a39ffd1c0a89318a6894df0069d87e5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd17432cc185e791825dd8271c56ee3a"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#afd17432cc185e791825dd8271c56ee3a">handleOwnConfigMessage</a> (bool *reply_needed)</td></tr>
<tr class="separator:afd17432cc185e791825dd8271c56ee3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a75c0b1dd30bc5b184012e503d8b71cfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRiots__Radio.html">Riots_Radio</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a75c0b1dd30bc5b184012e503d8b71cfa">riots_radio</a></td></tr>
<tr class="separator:a75c0b1dd30bc5b184012e503d8b71cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390bd7ce05928c76fe9c1b207ab3ae1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRiots__RGBLed.html">Riots_RGBLed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a390bd7ce05928c76fe9c1b207ab3ae1c">riots_RGBLed</a></td></tr>
<tr class="separator:a390bd7ce05928c76fe9c1b207ab3ae1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a311d9c2596f298c63b37bd99a67c53d5"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a311d9c2596f298c63b37bd99a67c53d5">configCounter</a> [2]</td></tr>
<tr class="separator:a311d9c2596f298c63b37bd99a67c53d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8e76c5bc1af8a38a81937524130c5d"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a8d8e76c5bc1af8a38a81937524130c5d">childId</a> [2]</td></tr>
<tr class="separator:a8d8e76c5bc1af8a38a81937524130c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88772f4a3f4a4c73f6799a0f95c17460"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a88772f4a3f4a4c73f6799a0f95c17460">childTxAddr</a> [4]</td></tr>
<tr class="separator:a88772f4a3f4a4c73f6799a0f95c17460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a6a3f479e97f5b25e9569055c87387"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRiots__Flash.html">Riots_Flash</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a00a6a3f479e97f5b25e9569055c87387">riots_flash</a></td></tr>
<tr class="separator:a00a6a3f479e97f5b25e9569055c87387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e94b9decf7e542b86e9b9a2a9577933"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a1e94b9decf7e542b86e9b9a2a9577933">unique_aes</a></td></tr>
<tr class="separator:a1e94b9decf7e542b86e9b9a2a9577933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfaabaa87b8e52cf3009e0401d8ed3b6"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#abfaabaa87b8e52cf3009e0401d8ed3b6">shared_aes</a></td></tr>
<tr class="separator:abfaabaa87b8e52cf3009e0401d8ed3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e3a65b5c9768df2a514fb984fe6a8c"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#ae1e3a65b5c9768df2a514fb984fe6a8c">own_address</a></td></tr>
<tr class="separator:ae1e3a65b5c9768df2a514fb984fe6a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3dce44ac5c7d357ecb9d8ab64eae51a"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#af3dce44ac5c7d357ecb9d8ab64eae51a">tx_address</a></td></tr>
<tr class="separator:af3dce44ac5c7d357ecb9d8ab64eae51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac521c398f9d72ef7fcaa25a2e53efaa3"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#ac521c398f9d72ef7fcaa25a2e53efaa3">plain_data</a></td></tr>
<tr class="separator:ac521c398f9d72ef7fcaa25a2e53efaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfd9befcf8e1fbe98f0c9aa73429064"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a4cfd9befcf8e1fbe98f0c9aa73429064">tx_crypt_buff</a></td></tr>
<tr class="separator:a4cfd9befcf8e1fbe98f0c9aa73429064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c9b9f39363a3e7b7bd7f5f0f1c96e9"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#ac3c9b9f39363a3e7b7bd7f5f0f1c96e9">rx_crypt_buff</a></td></tr>
<tr class="separator:ac3c9b9f39363a3e7b7bd7f5f0f1c96e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513d856339fc044e1ba21da1227be711"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a513d856339fc044e1ba21da1227be711">own_config_message</a></td></tr>
<tr class="separator:a513d856339fc044e1ba21da1227be711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dedc8b77e912b4125157d5c8d7d22e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a4dedc8b77e912b4125157d5c8d7d22e1">first_aes_part_received</a></td></tr>
<tr class="separator:a4dedc8b77e912b4125157d5c8d7d22e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e4b2aa8b893eb6301fbee085979ede"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#ab0e4b2aa8b893eb6301fbee085979ede">last_message_type</a></td></tr>
<tr class="separator:ab0e4b2aa8b893eb6301fbee085979ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb2fd56912f59059f8b8cff3439544e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#abcb2fd56912f59059f8b8cff3439544e">alive_msg_sent</a></td></tr>
<tr class="separator:abcb2fd56912f59059f8b8cff3439544e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd1ddf03b5f2edef8f3a5ea72af5f3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a7cd1ddf03b5f2edef8f3a5ea72af5f3e">resetPin</a></td></tr>
<tr class="separator:a7cd1ddf03b5f2edef8f3a5ea72af5f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03509b6aac38b4842df40f8f02808fa2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a03509b6aac38b4842df40f8f02808fa2">mama_reset_acknowledged</a></td></tr>
<tr class="separator:a03509b6aac38b4842df40f8f02808fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3025e9abdf9e4a77dabb7404f1011de3"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRiots__MamaRadio.html#a3025e9abdf9e4a77dabb7404f1011de3">indicativeLeds</a></td></tr>
<tr class="separator:a3025e9abdf9e4a77dabb7404f1011de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1faa2f56a3be7a8525c7a184c297c242"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::checkCounter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks received counter validity and save it to memory </p>

</div>
</div>
<a class="anchor" id="a83a923831bfee0887a7147969c103ccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::checkRiotsMsgValidity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrytps and checks the message validity with CRC and lenght status.</p>
<dl class="section return"><dt>Returns</dt><dd>bool RIOTS_OK if received message is valid, otherwise error code </dd></dl>

</div>
</div>
<a class="anchor" id="a4c56622b1ce95cf691f1171c6f4e6d38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Riots_MamaRadio::createCoreNotReachedMsg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fills plain_data buffer with the core not reached message information. </p>

</div>
</div>
<a class="anchor" id="ac7d7ab507d7484e5b571a9debca4464f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Riots_MamaRadio::createResponse </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>answer_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>message_type</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>status</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a response to the cloud. Packs the message and decrypts it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">answer_type</td><td>Type of the cloud message. </td></tr>
    <tr><td class="paramname">message_type</td><td>Type of the message. </td></tr>
    <tr><td class="paramname">status</td><td>Status of the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a49a889f4f9788b5a6c953cd5bc5eb95a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte * Riots_MamaRadio::getPlainDataAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns memory address of the plain data buffer</p>
<dl class="section return"><dt>Returns</dt><dd>Address of the plain data buffer array </dd></dl>

</div>
</div>
<a class="anchor" id="a0ec2153c260b2d2896007ecf68127330"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte * Riots_MamaRadio::getPrivateKeyAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns memory address of the private key</p>
<dl class="section return"><dt>Returns</dt><dd>Address of the private key array </dd></dl>

</div>
</div>
<a class="anchor" id="a7f4e922fb9c468200707d91226091a86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte * Riots_MamaRadio::getRXCryptBuffAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns memory address of the crypted data buffer</p>
<dl class="section return"><dt>Returns</dt><dd>Address of the plain data buffer array </dd></dl>

</div>
</div>
<a class="anchor" id="ac886c97c3ecea6257c16663a3b8272da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte * Riots_MamaRadio::getTXCryptBuffAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns memory address of the crypted data buffer</p>
<dl class="section return"><dt>Returns</dt><dd>Address of the plain data buffer array </dd></dl>

</div>
</div>
<a class="anchor" id="afd17432cc185e791825dd8271c56ee3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::handleOwnConfigMessage </td>
          <td>(</td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>reply_needed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handler for the MAMA's configuration message.</p>
<dl class="section return"><dt>Returns</dt><dd>bool Information if the MAMA needs to send answer to the CLOUD </dd></dl>

</div>
</div>
<a class="anchor" id="a7786a204690d45863f478c4ff6f17f1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Riots_MamaRadio::messageDelivered </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>success</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Informs that RIOTS message has been sent to cloud.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sucess</td><td>RIOTS_OK if message was delivered succesfully. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean TRUE, if message is was alive message. </dd></dl>

</div>
</div>
<a class="anchor" id="a8b318474cf60ca9360a304be44fe677f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::processMsg </td>
          <td>(</td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>reply_needed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles the received message. The message should be either forwarded to RIOTS network or it will hold the configuration information for mama.</p>
<dl class="section return"><dt>Returns</dt><dd>bool Information if the MAMA needs to send answer to the CLOUD </dd></dl>

</div>
</div>
<a class="anchor" id="afa4e717d7ebb34880579b4cb5e4168e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Riots_MamaRadio::setRadioReceiverAddress </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>new_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set receiver address of the radio.</p>
<dl class="section return"><dt>Returns</dt><dd>aaaaaa </dd></dl>

</div>
</div>
<a class="anchor" id="aaf60a7347ad8bfe0096afa3c8fd1d877"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Riots_MamaRadio::setup </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>indicativeLedsOn</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>debug</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrfce</em> = <code>0xFF</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrfcsn</em> = <code>0xFF</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrfirq</em> = <code>0xFF</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrfrst</em> = <code>0xFF</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setup function sets given ce, csn, irq and reset pins. If arguments are not given function reads pin values from EEPROM If pin values are not found from EEPROM, function sets hardcoded values (v05)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">debug</td><td>Enable debugging </td></tr>
    <tr><td class="paramname">nrfce</td><td>Chip Enable Activates RX or TX mode </td></tr>
    <tr><td class="paramname">nrfcsn</td><td>SPI Chip Select </td></tr>
    <tr><td class="paramname">nrfirq</td><td>Maskable interrupt pin. Active low </td></tr>
    <tr><td class="paramname">nrfrst</td><td>Reset pin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa9fdcd19f87e987d70e931bf144c7787"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::update </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>sleep</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check possible updates from the Riots network.</p>
<p>With parameter it is possible to activate sleeping mode if there is no data in the radio.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sleep</td><td>Status of wait. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte true, if data is read successfully </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abcb2fd56912f59059f8b8cff3439544e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Riots_MamaRadio::alive_msg_sent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Have we sent alive message to the cloud </p>

</div>
</div>
<a class="anchor" id="a8d8e76c5bc1af8a38a81937524130c5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::childId[2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Child id received from cloud </p>

</div>
</div>
<a class="anchor" id="a88772f4a3f4a4c73f6799a0f95c17460"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::childTxAddr[4]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>TX address used for sending </p>

</div>
</div>
<a class="anchor" id="a311d9c2596f298c63b37bd99a67c53d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::configCounter[2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Config counter, received during initialization from the cloud </p>

</div>
</div>
<a class="anchor" id="a4dedc8b77e912b4125157d5c8d7d22e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Riots_MamaRadio::first_aes_part_received</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Have we received first part of new AES key </p>

</div>
</div>
<a class="anchor" id="a3025e9abdf9e4a77dabb7404f1011de3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::indicativeLeds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Has the led indications enabled from the INO </p>

</div>
</div>
<a class="anchor" id="ab0e4b2aa8b893eb6301fbee085979ede"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte Riots_MamaRadio::last_message_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Last delivered message type </p>

</div>
</div>
<a class="anchor" id="a03509b6aac38b4842df40f8f02808fa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Riots_MamaRadio::mama_reset_acknowledged</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Is it ok to reset mama after message is delivered to the cloud </p>

</div>
</div>
<a class="anchor" id="ae1e3a65b5c9768df2a514fb984fe6a8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte* Riots_MamaRadio::own_address</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ptr to wwn core radio address, data allocated in <a class="el" href="classRiots__Radio.html">Riots_Radio</a> side </p>

</div>
</div>
<a class="anchor" id="a513d856339fc044e1ba21da1227be711"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Riots_MamaRadio::own_config_message</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Is next message meant for me? </p>

</div>
</div>
<a class="anchor" id="ac521c398f9d72ef7fcaa25a2e53efaa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte* Riots_MamaRadio::plain_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ptr to plain data which is shared between the libraries </p>

</div>
</div>
<a class="anchor" id="a7cd1ddf03b5f2edef8f3a5ea72af5f3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Riots_MamaRadio::resetPin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reset pin number </p>

</div>
</div>
<a class="anchor" id="a00a6a3f479e97f5b25e9569055c87387"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRiots__Flash.html">Riots_Flash</a> Riots_MamaRadio::riots_flash</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementation of the flash library </p>

</div>
</div>
<a class="anchor" id="a75c0b1dd30bc5b184012e503d8b71cfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRiots__Radio.html">Riots_Radio</a> Riots_MamaRadio::riots_radio</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementation of the Radio Hardware Library </p>

</div>
</div>
<a class="anchor" id="a390bd7ce05928c76fe9c1b207ab3ae1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRiots__RGBLed.html">Riots_RGBLed</a> Riots_MamaRadio::riots_RGBLed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementation of the RIOTS led libary, used for led indications </p>

</div>
</div>
<a class="anchor" id="ac3c9b9f39363a3e7b7bd7f5f0f1c96e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte* Riots_MamaRadio::rx_crypt_buff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>buffer to store crypted rx data and header </p>

</div>
</div>
<a class="anchor" id="abfaabaa87b8e52cf3009e0401d8ed3b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte* Riots_MamaRadio::shared_aes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ptr to Shared AES128 key for the mama, data allocated in <a class="el" href="classRiots__Radio.html">Riots_Radio</a> side </p>

</div>
</div>
<a class="anchor" id="af3dce44ac5c7d357ecb9d8ab64eae51a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte* Riots_MamaRadio::tx_address</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ptr to transmitter address </p>

</div>
</div>
<a class="anchor" id="a4cfd9befcf8e1fbe98f0c9aa73429064"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte* Riots_MamaRadio::tx_crypt_buff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>buffer to store crypted tx data and header </p>

</div>
</div>
<a class="anchor" id="a1e94b9decf7e542b86e9b9a2a9577933"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte* Riots_MamaRadio::unique_aes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ptr to Unique AES128 key for the mama, data allocated in <a class="el" href="classRiots__Radio.html">Riots_Radio</a> side </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>riots-libraries/Riots_MamaRadio/<a class="el" href="Riots__MamaRadio_8h_source.html">Riots_MamaRadio.h</a></li>
<li>riots-libraries/Riots_MamaRadio/Riots_MamaRadio.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 22 2016 14:52:43 for Riots libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
